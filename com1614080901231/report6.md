+# 实验六：Android网络编程 
+## 一、实验目标
+掌握Android网络访问方法；
+## 二、实验步骤
+1、在Manifest文件中加入网络权限<br />
+3、通过解析网络URL，开辟线程下载软件<br />
+4、进行软件更新
+## 三、实验截图
+![image](https://github.com/BACodeLab/android-labs-2018/blob/master/com1614080901231/6.png)
+![image](https://github.com/BACodeLab/android-labs-2018/blob/master/com1614080901231/7.png)

具体实现过程
## 需求

> 从任意一个下载网址后台下载文件，通知栏显示进度，支持断点续传

## 分析

> 关键词:
>
> + 下载--访问网络，需要权限，还有我们用OkHttp库来使用Http协议
> + 后台--用到服务，既然下载是耗时任务，就必须开启线程，但是要有下载进度吧，下载进度是UI控件显示的，这意味着必须用到异步消息处理才能在子线程中切换到主线程刷新UI，所以我们用AsyncTask处理异步消息，下载进度我们放在通知栏，所以在下载过程中服务应该变成前台服务
> + 文件--要操作文件所以要权限

## 需要注意的地方

> 这里说的后台下载，是指在另一个线程下载
>
> 所谓的前台服务是指让服务控制一个通知常驻在通知栏，被我们看的见，所以千万不要搞混

## 用到的类

> + AsyncTask
>
>   > 该类封装了异步消息处理，就是说该类很好的处理了从子线程切换到主线程的过程
>
> + service
>
>   > 用来在后台操作一些东西，具体点就是，这个类里面的方法能在后台完成一些任务，配合线程使用，如果没有开线程，那就有意思了，你的程序，有一个服务，一个活动，都由主线程控制，意味着你的程序有两个手下，都可以去做任务，但是活动是你看的到的，服务是你看不到的，一旦服务开了线程，意味着大部分活动能做的任务，服务也能做，但是活动是在你面前做，服务在你背后做，你看到的就是活动了

## 各种类用到的关系

> AsyncTask里面有一个方法会自动开启线程，有自动切换回主线程的方法，所以就不在服务开启线程了，在这个AsyncTask来下载，在服务里面进行下载进度的UI更新，这样用户在活动中控制下载的状态
>
> 这意味着
>
> AsyncTask(下载的线程)被服务管理
>
> 服务被活动管理，形成这样的层级关系
>
> + 活动控制下载的状态的过程
>
>   1. 用户使用活动控制服务
>   2. 服务控制下载
>   3. 下载的状态将返回给服务
>   4. 服务刷新进度控件
>   5. 用户从进度控件中看到的下载的状态被改变
>
>   这意味这服务要一直监控下载的状态，所以要用到java回调方法
+## 四、实验体会
简单
